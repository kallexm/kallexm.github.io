<!DOCTYPE html>
<html lang="en-US">
<head>
    <title>Overview</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
        
    <link rel="stylesheet" type="text/css" href="base_styles.css">
    
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    
</head>
<body>
    <div class="sideNavMenu"">
        <div class="menuLogo">
            <img src="mythra_sword_icon.svg" id="ms_icon">
            <h1>Mythra Sword</h1>
            <h2>3D printed replica</h2>
        </div>
        <a href="Overview.html">Overview</a>
        <a class="active" href="Parts.html">Parts</a>
    </div>
        
    <div class="mainContent" style="background-color: white" id="test1">
        <h2>Parts</h2>
        <object id="partSelector" type="image/svg+xml" data="mythra_sword_flat_gray.svg" style="width:1500px">
            {Mythra Sword Part Selector}
        </object>
        <!--<input type="button" id="button1" value="Click this!"></input>-->
        <div id="partHandle1" class="partContentBox" style="display: none;">
            <model-viewer style="width: 50%; height: 100%; background-color: #606060;" camera-controls src="organizer.glb" alt="organizer" camera-target="-2.5m 0m 2.5m" camera-orbit="0deg 45deg 75%" min-camera-orbit="auto 0deg 175%" max-camera-orbit="auto 180deg 75%" environment-image="neutral"  shadow-intensity="1"></model-viewer>
        </div>
        <div id="partHandle2" class="partContentBox" style="display: none;">
            Da da da
        </div>
    </div>
</body>

<script>
    class SwordPartSelector
    {
        constructor()
        {
            this.partSections = new Array();
            console.log("constructor");
        }
      
        addSection(partId)
        {
            this.partSections[this.partSections.length] = partId;
            console.log("Add ", partId);
            return;
        }
            
        switchToSection(partId)
        {
            for (let i = 0; i < this.partSections.length; i++)
            {
                var partSectionId = this.partSections[i];
                if (partSectionId == partId)
                {
                    document.getElementById(partSectionId).style.display = "";
                }
                else
                {
                    document.getElementById(partSectionId).style.display = "none";
                }                 
            }
            return;
        }
    }

        let testText = "Yo!!!";
    
        function showTestText(text)
        {
            document.getElementById("partHandle1").innerHTML = text;
            document.getElementById("partHandle1").style.display = "";
        }
        
        window.onload=function() {
           /*pS = document.getElementById("partSelector");
            pSSvgCDoc = pS.contentDocument;
            handle_layer = pSSvgCDoc.getElementById("layer22");
            handle_layer.addEventListener('click', function(){ showTestText(testText) });*/
            
            let sPS = new SwordPartSelector();
            sPS.addSection("partHandle1");
            sPS.addSection("partHandle2");
            
            pSCD = document.getElementById("partSelector").contentDocument;
            pSCD.getElementById("layer22").addEventListener("click", function(){ sPS.switchToSection("partHandle1") });
            pSCD.getElementById("layer17").addEventListener("click", function(){ sPS.switchToSection("partHandle2") });
        }
    
        
</script>

</html>

<!-- python -m http.server -->
